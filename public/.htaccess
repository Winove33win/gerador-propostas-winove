<IfModule mod_rewrite.c>
RewriteEngine On

# =========================
# PROXY PARA NODE.JS (API)
# =========================
RewriteCond %{REQUEST_URI} ^/api/ [NC]
RewriteRule ^api/(.*)$ http://127.0.0.1:3333/api/$1 [P,L]

RewriteCond %{REQUEST_URI} ^/auth/ [NC]
RewriteRule ^auth/(.*)$ http://127.0.0.1:3333/auth/$1 [P,L]

ProxyPreserveHost On

# =========================
# SPA FALLBACK (VITE / REACT)
# =========================
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.html [L]
</IfModule>
